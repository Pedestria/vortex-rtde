const fs=require("fs-extra"),terser=require("terser"),path=require("path"),Babel=require("@babel/parser"),babel_generator_NAMESPACE=require("@babel/generator"),babel_traverse_NAMESPACE=require("@babel/traverse"),babel_core_NAMESPACE=require("@babel/core"),t=require("@babel/types"),chalk=require("chalk"),cliSpinners=require("cli-spinners"),ora=require("ora"),resolve=require("resolve");function createStarPackage(e,n){stage1();let o=StarGraph(n);stage2();let r=Compile(o);if(usingTerser){stage3();let e=terser.minify(r,{compress:!0,mangle:!0}).code,n=path.dirname("./out/vortex.js")+"/"+path.basename("./out/vortex.js",".js")+".min.js";fs.writeFileSync(n,e),finish()}else fs.writeFileSync("./out/vortex.js",r),finish()}function Transport(e,n,o,r){e.name.includes("./")?(e.updateName(LocalizedResolve(o,addJsExtensionIfNecessary(e.name))),(e instanceof EsModuleDependency||e instanceof CjsModuleDependency)&&(isInQueue(e.name)||addEntryToQueue(new QueueEntry(e.name,Babel.parse(fs.readFileSync(e.name).toString(),{sourceType:"module"}))),e.verifyImportedModules(loadEntryFromQueue(e.name),r))):e instanceof ModuleDependency&&(e.libLoc=resolveLibBundle(e.name)),n.searchFor(e)?n.update(e):n.add(e)}var queue=[];function isInQueue(e){for(let n of queue)if(n.name===e)return!0;return!1}function addEntryToQueue(e){queue.push(e)}function loadEntryFromQueue(e){for(let n of queue)if(n.name===e)return n}class QueueEntry{constructor(e,n){this.name=e,this.ast=n}}function StarGraph(e){isProduction&&(fs.emptyDirSync("./cache/files"),fs.emptyDirSync("./cache/libs"));let n=new VortexGraph(e),o=[],r=addJsExtensionIfNecessary(e),t=fs.readFileSync(r).toString(),s=Babel.parse(t,{sourceType:"module"});addEntryToQueue(new QueueEntry(e,s)),GraphDepsAndModsForCurrentFile(loadEntryFromQueue(r),n),o.push(e);for(let e of n.Star){let r="./";if(0==o.includes(e.name))if(1==e.name.includes(r)){let r=addJsExtensionIfNecessary(e.name);if(isInQueue(r))GraphDepsAndModsForCurrentFile(loadEntryFromQueue(r),n);else{let e=new QueueEntry(r,Babel.parse(fs.readFileSync(r).toString()));addEntryToQueue(e),GraphDepsAndModsForCurrentFile(loadEntryFromQueue(e.name),n)}o.push(r)}else 0==isLibrary&&(GraphDepsForLib(e,n),o.push(e.name))}return n}function GraphDepsAndModsForCurrentFile(e,n){SearchAndGraph(e,n),SearchAndGraph(e,n)}function GraphDepsForLib(e,n){e instanceof ModuleDependency&&GraphDepsAndModsForCurrentFile(resolveLibBundle(e.name),n)}function fixDependencyName(e){let n;"@"===e[0]&&(n=e.slice(1));for(let e of"/@^$#*&!%")if(n.includes(e)){let o,r;o=n.slice(0,n.indexOf(e)),r=n.slice(n.indexOf(e)+1),n=`${o}_${r}`}return n}function Compile(e){return LibCompile(e)}function LibCompile(e){let n=new LibBundle,o="";for(let o of e.Star)if(o instanceof ModuleDependency){for(let r of o.importLocations)if(r instanceof MDImportLocation)if(n.isInQueue(r.name))0==o.name.includes("./")&&r.modules[0].type!==ModuleTypes.EsNamespaceProvider&&mangleVariableNamesFromAst(n.loadEntryFromQueue(r.name).ast,r.modules),removeImportsFromAST(n.loadEntryFromQueue(r.name).ast,r,o,n);else{let t=fs.readFileSync(r.name).toString();n.addEntryToQueue(new BundleEntry(r.name,Babel.parse(t,{sourceType:"module"}))),0==o.name.includes("./")&&r.modules[0].type!==ModuleTypes.EsNamespaceProvider&&mangleVariableNamesFromAst(n.loadEntryFromQueue(r.name).ast,r.modules),removeImportsFromAST(n.loadEntryFromQueue(r.name).ast,r,o,n),r.name===e.entryPoint&&removeExportsFromAST(n.loadEntryFromQueue(r.name).ast,o)}if(n.isInQueue(o.name))removeExportsFromAST(n.loadEntryFromQueue(o.name).ast,o);else if(o.name.includes("./")){let e=fs.readFileSync(o.name).toString();n.addEntryToQueue(new BundleEntry(o.name,Babel.parse(e,{sourceType:"module"}))),removeExportsFromAST(n.loadEntryFromQueue(o.name).ast,o)}}o+=n.libs.join("\n");for(let e of n.queue)o+=Division(),o+=babel_generator_NAMESPACE.default(e.ast).code;return o}function removeImportsFromAST(e,n,o,r){if(o instanceof CjsModuleDependency)0==o.name.includes("./")&&0==r.isLibEntryInCode(o.name,n.modules[0].name)&&r.addEntryToLibs(o.name,n.modules[0].name),n.modules[0].type===ModuleTypes.CjsNamespaceProvider&&babel_traverse_NAMESPACE.default(e,{VariableDeclaration:function(e){null!==e.node.declarations[0].init&&"CallExpression"===e.node.declarations[0].init.type&&"require"===e.node.declarations[0].init.callee.name&&e.node.declarations[0].id.name===n.modules[0].name&&e.node.declarations[0].init.arguments[0].value===n.relativePathToDep&&e.remove()},MemberExpression:function(e){o.name.includes("./")&&e.node.object.name==n.modules[0].name&&null!==e.node.property&&("default"===e.node.property.name?e.replaceWith(t.identifier(findDefaultExportName(o))):e.replaceWith(t.identifier(e.node.property.name)))}});else if(o instanceof EsModuleDependency){if(0==o.name.includes("./"))if(n.modules[0].type===ModuleTypes.EsNamespaceProvider)0==r.isLibEntryInCode(o.name,n.modules[0].name)&&r.addEntryToLibs(o.name,n.modules[0].name);else{var s=fixDependencyName(o.name)+"_NAMESPACE";0==r.isLibEntryInCode(o.name,s)&&r.addEntryToLibs(o.name,s)}babel_traverse_NAMESPACE.default(e,{ImportDeclaration:function(e){e.node.source.value===n.relativePathToDep&&e.remove()},MemberExpression:function(e){o.name.includes("./")&&n.modules[0].type===ModuleTypes.EsNamespaceProvider&&e.node.object.name===n.modules[0].name&&("default"===e.node.property.name?e.replaceWith(t.identifier(findDefaultExportName(o))):e.replaceWith(t.identifier(e.node.property.name)))},Identifier:function(e){if(0==o.name.includes("./")&&n.modules[0].type!==ModuleTypes.EsNamespaceProvider)for(let o of n.modules)o.type!==ModuleTypes.EsDefaultModule?e.node.name==="_"+o.name&&e.replaceWith(t.memberExpression(t.identifier(s),t.identifier(o.name))):o.type===ModuleTypes.EsDefaultModule&&e.node.name==="_"+o.name&&e.replaceWith(t.memberExpression(t.identifier(s),t.identifier("default")))}})}}function findDefaultExportName(e){let n,o=fs.readFileSync(e.name).toString(),r=Babel.parse(o,{sourceType:"module"});return e instanceof CjsModuleDependency?babel_traverse_NAMESPACE.default(r,{ExpressionStatement:function(e){"AssignmentExpression"===e.node.expression.type&&"MemberExpression"===e.node.expression.left.type&&null!==e.node.expression.left&&"exports"===e.node.expression.left.object.name&&"default"===e.node.expression.left.property.name&&(n=e.node.expression.right.name)}}):e instanceof EsModuleDependency&&babel_traverse_NAMESPACE.default(r,{ExportDefaultDeclaration:function(e){null!==e.node.declaration&&(n=e.node.declaration.id.name)},ExportNamedDeclaration:function(e){if(null==e.node.declaration)for(let o of e.node.specifiers)"ExportSpecifier"===o.type&&"default"===o.exported.name&&(n=o.local.name)}}),n}function removeExportsFromAST(e,n){n instanceof CjsModuleDependency?babel_traverse_NAMESPACE.default(e,{ExpressionStatement:function(e){"AssignmentExpression"===e.node.expression.type&&"MemberExpression"===e.node.expression.left.type&&("module"===e.node.expression.left.object.name&&"exports"===e.node.expression.left.property.name&&e.remove(),"exports"===e.node.expression.left.object.name&&e.remove())}}):n instanceof EsModuleDependency&&babel_traverse_NAMESPACE.default(e,{ExportNamedDeclaration:function(e){"Identifier"!==e.node.declaration.type||0===e.node.specifiers.length?e.replaceWith(e.node.declaration):e.remove()},ExportDefaultDeclaration:function(e){"Identifier"!==e.node.declaration.type?e.replaceWith(e.node.declaration):e.remove()}})}function Division(){return"\n /******VORTEX_DIVIDER******/ \n"}class LibBundle{constructor(){this.queue=[],this.libs=[]}addEntryToQueue(e){this.queue.push(e)}addEntryToLibs(e,n){const o=CommonJSTemplate({NAMESPACE:t.identifier(n),LIBNAME:t.stringLiteral(e)}),r=babel_generator_NAMESPACE.default(o);this.libs.push(r.code)}isLibEntryInCode(e,n){for(let o of this.libs)if(o.includes(e)&&o.includes(n))return!0;return!1}isInQueue(e){for(let n of this.queue)if(n.name==e)return!0;return!1}loadEntryFromQueue(e){for(let n of this.queue)if(n.name==e)return n}}const CommonJSTemplate=babel_core_NAMESPACE.template("const NAMESPACE = require(LIBNAME)");class BundleEntry{constructor(e,n){this.name=e,this.ast=n}}function mangleVariableNamesFromAst(e,n){babel_traverse_NAMESPACE.default(e,{Identifier:function(e){for(let o of n)o.name===e.node.name&&(e.node.name="_"+e.node.name)}})}function LocalizedResolve(e,n){if(e==n)return e;if("./"==path.dirname(n))return n;let o=path.dirname(e),r=n;return"./"+path.join(o,r)}function resolveLibBundle(e){let n=new RegExp("min");if(["path","fs","module"].includes(e))return"node.js";let o=ResolveLibrary(e);if(o instanceof Array)for(let e of o){if(e.match(n)&&isProduction)return e;if(null==e.match(n)&&0==isProduction)return e}return o}function ResolveLibrary(e){let n=fixLibraryPath(resolve.sync(e)),o=[];if(null!==DefaultQuarkTable.findEntryByName(e))return DefaultQuarkTable.QuarkLibs[DefaultQuarkTable.findEntryByName(e)].bundleLocs;if(0==LibraryRelayVerify(n).length)return n;for(let e of LibraryRelayVerify(n))o.push(LocalizedResolve(n,e));return o}function LibraryRelayVerify(e){const n=fs.readFileSync(e,"utf-8").toString();new RegExp("./");const o=Babel.parse(n,{sourceType:"module"});let r=[];return babel_traverse_NAMESPACE.default(o,{enter(e){"ExpressionStatement"===e.node.type&&"AssignmentExpression"===e.node.expression.type&&"MemberExpression"===e.node.expression.left.type&&"CallExpression"===e.node.expression.right.type&&"module"===e.node.expression.left.object.name&&"exports"===e.node.expression.left.property.name&&"require"===e.node.expression.right.callee.name&&r.push(e.node.expression.right.arguments[0].value)}}),r}function fixLibraryPath(e){if(0==e.includes("node_modules"))throw new Error(chalk.redBright('Package "'+e+'" does not Exist!'));{let n=e.search("node_modules");return"./"+e.slice(n)}}function isQuarky(e){const n=fs.readFileSync(e,"utf-8").toString();new RegExp("./");const o=Babel.parse(n,{sourceType:"module"});return babel_traverse_NAMESPACE.default(o,{enter(n){if("VariableDeclaration"===n.node.type&&null!==n.node.declarations[0].init&&"CallExpression"===n.node.declarations[0].init.type&&"require"===n.node.declarations[0].init.callee.name)if("ObjectPattern"===n.node.declarations[0].id.type){for(let o of n.node.declarations[0].id.properties)if(testForLocalFileRequires(LocalizedResolve(e,o.value)))return!0}else if(testForLocalFileRequires(LocalizedResolve(e,n.node.declarations[0].init.arguments[0].value)))return!0;if("ExpressionStatement"===n.node.type){if("AssignmentExpression"===n.node.expression.type&&"MemberExpression"===n.node.expression.left.type&&"CallExpression"===n.node.expression.right.type&&"require"===n.node.expression.right.callee.name&&testForLocalFileRequires(LocalizedResolve(e,n.node.expression.right.arguments[0].value)))return!0;if("CallExpression"===n.node.expression.type&&"CallExpression"===n.node.expression.callee.type&&"require"===n.node.expression.callee.callee.name&&testForLocalFileRequires(LocalizedResolve(e,n.node.expression.callee.arguments[0].value)))return!0}}}),!1}function testForLocalFileRequires(e){console.log(e);const n=fs.readFileSync(addJsExtensionIfNecessary(e),"utf-8").toString();let o=new RegExp("./");const r=Babel.parse(n,{sourceType:"module"});return babel_traverse_NAMESPACE.default(r,{enter(e){if("VariableDeclaration"===e.node.type){if("CallExpression"===e.node.declarations[0].init.type&&"require"===e.node.declarations[0].init.callee.name)if("ObjectPattern"===e.node.declarations[0].id.type){for(let n of e.node.declarations[0].id.properties)if(null!==n.value.match(o))return!0}else if(null!==e.node.declarations[0].init.arguments[0].value.match(o))return!0}if("ExpressionStatement"===e.node.type){if("AssignmentExpression"===e.node.expression.type&&"MemberExpression"===e.node.expression.left.type&&"CallExpression"===e.node.expression.right.type&&"require"===e.node.expression.right.callee.name&&null!==e.node.expression.right.arguments[0].value.match(o))return!0;if("CallExpression"===e.node.expression.type&&"CallExpression"===e.node.expression.callee.type&&"require"===e.node.expression.callee.callee.name&&null!==e.node.expression.callee.arguments[0].value.match(o))return!0}}}),!1}function addJsExtensionIfNecessary(e){let n=new RegExp(".js");return null!==e.match(n)?e:e+".js"}class EsModuleDependency extends ModuleDependency{constructor(e,n){super(e,n)}verifyImportedModules(e,n){let o=[];babel_traverse_NAMESPACE.default(e.ast,{ExportDefaultDeclaration:function(e){let n=e.node.declaration.id.name;if(o.push(new Module(n,ModuleTypes.EsDefaultModule)),"ClassDeclaration"===e.node.declaration.type){let n=e.node.declaration.id.name;o.push(new Module(n,ModuleTypes.EsDefaultModule))}if("FunctionDeclaration"===e.node.declaration.type){let n=e.node.declaration.id.name;o.push(new Module(n,ModuleTypes.EsDefaultModule))}},ExportNamedDeclaration:function(e){if("VariableDeclaration"===e.node.declaration.type){let n=e.node.declaration.declarations[0].id.name;o.push(new Module(n,ModuleTypes.EsModule))}else if("ClassDeclaration"===e.node.declaration.type){let n=e.node.declaration.id.name;o.push(new Module(n,ModuleTypes.EsModule))}else if("FunctionDeclaration"===e.node.declaration.type){let n=e.node.declaration.id.name;o.push(new Module(n,ModuleTypes.EsModule))}else{for(let n of e.node.specifiers)if("ExportSpecifier"===n.type){let e=n.exported.name;o.push(new Module(e,ModuleTypes.EsModule))}let n=e.node.declaration.id.name;o.push(new Module(n,ModuleTypes.EsModule))}}});let r=new MDImportLocation("buffer",0,o,""),t=new Error(chalk.redBright("Non Existent Modules Imported from "+e.name));for(let e of n.modules)if(0==r.testForModule(e))for(let o of findModulesUnderNamespace(n.name,e.name))if(0==searchForModuleUnderNamespace(n.name,o,e.name))throw t}}function findModulesUnderNamespace(e,n){const o=fs.readFileSync(e,"utf-8").toString(),r=Babel.parse(o,{sourceType:"module"});let t=[];return babel_traverse_NAMESPACE.default(r,{MemberExpression:function(e){if("Identifier"===e.node.object.type)var o=e.node.object.name;"Identifier"===e.node.property.type&&o==n&&t.push(e.node.property.name)}}),t}function searchForModuleUnderNamespace(e,n,o){const r=fs.readFileSync(e,"utf-8").toString(),t=Babel.parse(r,{sourceType:"module"});let s=!1;return babel_traverse_NAMESPACE.default(t,{MemberExpression:function(e){if("Identifier"===e.node.object.type)var r=e.node.object.name;"Identifier"===e.node.property.type&&r==o&&e.node.property.name===n&&(s=!0)}}),s}class CjsModuleDependency extends ModuleDependency{constructor(e,n){super(e,n)}verifyImportedModules(e,n){let o=[];babel_traverse_NAMESPACE.default(e.ast,{ExpressionStatement:function(e){"AssignmentExpression"===e.node.expression.type&&"MemberExpression"===e.node.expression.left.type&&("module"===e.node.expression.left.object.name&&"exports"===e.node.expression.left.property.name&&("FunctionExpression"===e.node.expression.right.type||"ArrowFunctionExpression"===e.node.expression.right.type?o.push(new Module("_DefaultFunction_",ModuleTypes.CjsDefaultFunction)):o.push(new Module(e.node.expression.right.name,ModuleTypes.CjsModule))),"exports"===e.node.expression.left.object.name&&("default"===e.node.expression.left.property.name?"UnaryExpression"!==e.node.expression.right.type&&o.push(new Module(e.node.expression.right.name,ModuleTypes.CjsDefaultModule)):"UnaryExpression"!==e.node.expression.right.type&&o.push(new Module(e.node.expression.right.name,ModuleTypes.CjsModule))))}});let r=new MDImportLocation("buffer",0,o,""),t=new Error(chalk.redBright("Non Existant Modules Imported from "+e.name));for(let e of n.modules)if(0==r.testForModule(e)){for(let o of findModulesUnderNamespace(n.name,e.name))if(0==searchForModuleUnderNamespace(n.name,o,e.name))throw t;n.modules[n.indexOfModuleByName(e.name)].type=ModuleTypes.CjsNamespaceProvider}}}function findModulesUnderNamespace(e,n){const o=fs.readFileSync(e,"utf-8").toString(),r=Babel.parse(o,{sourceType:"module"});let t=[];return babel_traverse_NAMESPACE.default(r,{MemberExpression:function(e){if("Identifier"===e.node.object.type)var o=e.node.object.name;"Identifier"===e.node.property.type&&o==n&&t.push(e.node.property.name)}}),t}function searchForModuleUnderNamespace(e,n,o){const r=fs.readFileSync(e,"utf-8").toString(),t=Babel.parse(r,{sourceType:"module"});let s=!1;return babel_traverse_NAMESPACE.default(t,{MemberExpression:function(e){if("Identifier"===e.node.object.type)var r=e.node.object.name;"Identifier"===e.node.property.type&&r==o&&e.node.property.name===n&&(s=!0)}}),s}const spinner2=ora("1. Opening the Portal"),spinner3=ora("2. Vortex Commencing"),spinner4=ora("3. Hypercompressing ");function stage1(){spinner2.spinner=cliSpinners.arc,spinner2.start()}function stage2(){spinner2.succeed(),spinner3.spinner=cliSpinners.bouncingBar,spinner3.start()}function stage3(){spinner3.succeed(),spinner4.spinner=cliSpinners.star,spinner4.color="yellow",spinner4.start()}function finish(){usingTerser?(spinner4.succeed(),console.log(chalk.bold.yellowBright("Successfully Created Neutron Star!"))):(spinner3.succeed(),console.log(chalk.bold.redBright("Successfully Created Star!"))),process.exit()}var ModuleTypes,isProduction=!1,isLibrary=!0,usingTerser=!1;class VortexGraph{constructor(e){this.Star=[],this.entryPoint=e}add(e){this.Star.push(e)}searchFor(e){for(let n of this.Star)if(e.name==n.name)return!0;return!1}update(e){for(let n of this.Star)e instanceof ModuleDependency&&n instanceof ModuleDependency&&ModuleDependencyUpdater(e,n)}remove(e){let n=this.Star.indexOf(e);this.Star.splice(n)}display(){return this.Star}}function ModuleDependencyUpdater(e,n){if(n.name==e.name)for(let o of e.importLocations)0==n.testForImportLocation(o.name)&&n.importLocations.push(o)}function SearchAndGraph(e,n){babel_traverse_NAMESPACE.default(e.ast,{ImportDeclaration:function(o){let r=[];for(let e of o.node.specifiers)if("ImportDefaultSpecifier"===e.type){let n;n=new Module(e.local.name,ModuleTypes.EsDefaultModule),r.push(n)}else if("ImportSpecifier"===e.type){let n=new Module(e.local.name,ModuleTypes.EsModule);r.push(n)}else{let n=new Module(e.local.name,ModuleTypes.EsNamespaceProvider);r.push(n)}let t=new MDImportLocation(e.name,o.node.loc.start.line,r,o.node.source.value);Transport(new EsModuleDependency(o.node.source.value,t),n,e.name,t)}})}function SearchAndGraph(e,n){babel_traverse_NAMESPACE.default(e.ast,{VariableDeclaration:function(o){let r=[];if(null!==o.node.declarations[0].init&&"CallExpression"===o.node.declarations[0].init.type&&"require"===o.node.declarations[0].init.callee.name){if("ObjectPattern"===o.node.declarations[0].id.type)for(let e of o.node.declarations[0].id.properties)r.push(new Module(e.value.name,ModuleTypes.CjsModule));else r.push(new Module(o.node.declarations[0].id.name,ModuleTypes.CjsNamespaceProvider));let t=new MDImportLocation(e.name,o.node.loc.start.line,r,o.node.declarations[0].init.arguments[0].value);Transport(new CjsModuleDependency(o.node.declarations[0].init.arguments[0].value,t),n,e.name,t)}},ExpressionStatement:function(o){let r=[];if("AssignmentExpression"===o.node.expression.type&&"MemberExpression"===o.node.expression.left.type&&"CallExpression"===o.node.expression.right.type&&"require"===o.node.expression.right.callee.name){r.push(new Module(o.node.expression.right.arguments[0].value,ModuleTypes.CjsNamespaceProvider));let t=new MDImportLocation(e.name,o.node.loc.start.line,r,o.node.expression.right.arguments[0].value);Transport(new CjsModuleDependency(o.node.expression.right.arguments[0].value,t),n,e.name,t)}if("CallExpression"===o.node.expression.type){if("Identifier"===o.node.expression.callee.type&&"require"==o.node.expression.callee.name){r.push(new Module("_Default_",ModuleTypes.CjsDefaultModule));let t=new MDImportLocation(e.name,o.node.loc.start.line,r,o.node.expression.arguments[0].value);Transport(new CjsModuleDependency(o.node.expression.arguments[0].value,t),n,e.name,t)}if("CallExpression"===o.node.expression.callee.type&&"require"===o.node.expression.callee.callee.name){r.push(new Module("_DefaultFunction_",ModuleTypes.CjsDefaultFunction));let t=new MDImportLocation(e.name,o.node.loc.start.line,r,o.node.expression.callee.arguments[0].value);Transport(new CjsModuleDependency(o.node.expression.callee.arguments[0].value,t),n,e.name,t)}}}})}class ModuleDependency extends Dependency{constructor(e,n){super(e,n)}}class MDImportLocation extends ImportLocation{constructor(e,n,o,r){super(e,n),this.modules=o,this.relativePathToDep=r}testForModule(e){for(let n of this.modules)if(n.name==e.name)return!0;return!1}indexOfModuleByName(e){for(let n of this.modules)if(n.name==e)return this.modules.indexOf(n);return null}}class Module{constructor(e,n){this.name=e,this.type=n}}!function(e){e[e.EsModule=0]="EsModule",e[e.EsDefaultModule=1]="EsDefaultModule",e[e.EsNamespaceProvider=2]="EsNamespaceProvider",e[e.CjsModule=2]="CjsModule",e[e.CjsDefaultModule=3]="CjsDefaultModule",e[e.CjsDefaultFunction=4]="CjsDefaultFunction",e[e.CjsNamespaceProvider=5]="CjsNamespaceProvider"}(ModuleTypes||(ModuleTypes={}));class QuarkLibTable{constructor(){this.QuarkLibs=[]}addEntry(e){this.QuarkLibs.push(e)}findEntryByName(e){for(let n of this.QuarkLibs)if(n.name==e)return this.QuarkLibs.indexOf(n);return null}}class QuarkLibEntry{constructor(e,n){this.name=e,this.bundleLocs=n}}var DefaultQuarkTable=new QuarkLibTable;DefaultQuarkTable.addEntry(new QuarkLibEntry("aws-sdk",["./node_modules/aws-sdk/dist/aws-sdk.js","./node_modules/aws-sdk/dist/aws-sdk.min.js"]));class Dependency{constructor(e,n){this.name=e,this.importLocations=[],this.importLocations.push(n)}testForImportLocation(e){for(let n of this.importLocations)if(n.name==e)return!0;return!1}indexOfImportLocation(e){for(let n of this.importLocations)if(n.name==e)return this.importLocations.indexOf(n)}updateName(e){this.name=e}isLibraryDependency(){return!this.name.includes("./")}}class ImportLocation{constructor(e,n){this.name=e,this.line=n}}